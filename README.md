# ä¸ªäººåšå®¢ç³»ç»Ÿ

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„**åŠ¨æ€åšå®¢ç³»ç»Ÿ**ï¼Œæ”¯æŒåœ¨çº¿å†…å®¹ç®¡ç†ï¼Œæ— éœ€é‡æ–°éƒ¨ç½²ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### å‰å°åŠŸèƒ½
- ğŸ“ **åšå®¢æ–‡ç« **: æ”¯æŒ Markdown æ ¼å¼ï¼Œä»£ç é«˜äº®
- ğŸ’­ **éšè®°**: ç±»ä¼¼ç¤¾äº¤åª’ä½“çš„åŠ¨æ€åˆ†äº«
- ğŸ–¼ï¸ **å›¾åº“**: ç²¾ç¾çš„ç›¸å†Œå±•ç¤º
- ğŸ’¬ **ç•™è¨€æ¿**: è®¿å®¢ç•™è¨€äº’åŠ¨
- ğŸ” **å…¨ç«™æœç´¢**: å¿«é€ŸæŸ¥æ‰¾å†…å®¹

### åå°ç®¡ç†
- ğŸ¯ **åœ¨çº¿ç¼–è¾‘**: é€šè¿‡ç®¡ç†ç•Œé¢ç›´æ¥åˆ›å»º/ç¼–è¾‘æ–‡ç« 
- ğŸ“Š **æ•°æ®ç»Ÿè®¡**: æ–‡ç« æµè§ˆé‡ã€è¯„è®ºæ•°ç­‰
- ğŸ¨ **Markdown ç¼–è¾‘å™¨**: å®æ—¶é¢„è§ˆ
- ğŸ“· **å›¾ç‰‡ç®¡ç†**: æ”¯æŒå¤–é“¾æˆ–æœ¬åœ°å­˜å‚¨
- ğŸ·ï¸ **åˆ†ç±»æ ‡ç­¾**: è‡ªåŠ¨ç®¡ç†åˆ†ç±»å’Œæ ‡ç­¾

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æœ¬åœ°å¼€å‘

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/ä½ çš„ç”¨æˆ·å/blog.git
cd blog
```

#### 2. å®‰è£…ä¾èµ–
```bash
npm install
```

#### 3. é…ç½®ç¯å¢ƒå˜é‡
åˆ›å»º `.env` æ–‡ä»¶ï¼š
```env
DATABASE_URL="postgresql://user:password@localhost:5432/blogdb"
JWT_SECRET="your-secret-key"
```

#### 4. åˆå§‹åŒ–æ•°æ®åº“
```bash
# åŒæ­¥æ•°æ®åº“ç»“æ„
npm run db:push

# åˆ›å»ºç®¡ç†å‘˜è´¦å·
ADMIN_EMAIL=admin@example.com ADMIN_PASSWORD=admin123 npm run create-admin
```

#### 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```

è®¿é—®ï¼š
- å‰å°: http://localhost:3000
- åå°: http://localhost:3000/admin/login

## ğŸ“¦ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**: Next.js 14 (App Router)
- **UI åº“**: React 18
- **æ ·å¼**: Tailwind CSS + Shadcn UI
- **åŠ¨ç”»**: Framer Motion
- **å›¾æ ‡**: Lucide React
- **è¯­è¨€**: TypeScript

### åç«¯
- **API**: Next.js API Routes
- **æ•°æ®åº“**: PostgreSQL
- **ORM**: Prisma
- **è®¤è¯**: JWT (jose)
- **å¯†ç åŠ å¯†**: bcryptjs

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
blog/
â”œâ”€â”€ app/                      # Next.js App ç›®å½•
â”‚   â”œâ”€â”€ (main)/              # å‰å°é¡µé¢
â”‚   â”‚   â”œâ”€â”€ page.tsx         # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ blog/            # åšå®¢
â”‚   â”‚   â”œâ”€â”€ moments/         # éšè®°
â”‚   â”‚   â”œâ”€â”€ gallery/         # å›¾åº“
â”‚   â”‚   â””â”€â”€ guestbook/       # ç•™è¨€æ¿
â”‚   â”œâ”€â”€ admin/               # åå°ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ login/           # ç™»å½•é¡µ
â”‚   â”‚   â”œâ”€â”€ dashboard/       # ç®¡ç†é¦–é¡µ
â”‚   â”‚   â””â”€â”€ posts/           # æ–‡ç« ç®¡ç†
â”‚   â””â”€â”€ api/                 # API è·¯ç”±
â”‚       â”œâ”€â”€ auth/            # è®¤è¯æ¥å£
â”‚       â”œâ”€â”€ admin/           # ç®¡ç†æ¥å£
â”‚       â””â”€â”€ posts/           # æ–‡ç« æ¥å£
â”œâ”€â”€ components/              # React ç»„ä»¶
â”‚   â”œâ”€â”€ ui/                  # Shadcn UI ç»„ä»¶
â”‚   â”œâ”€â”€ layout/              # å¸ƒå±€ç»„ä»¶
â”‚   â””â”€â”€ search-dialog.tsx    # æœç´¢å¯¹è¯æ¡†
â”œâ”€â”€ lib/                     # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ prisma.ts           # Prisma å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ auth.ts             # è®¤è¯å·¥å…·
â”‚   â””â”€â”€ utils.ts            # é€šç”¨å·¥å…·
â”œâ”€â”€ prisma/                  # Prisma é…ç½®
â”‚   â””â”€â”€ schema.prisma       # æ•°æ®åº“æ¨¡å‹
â”œâ”€â”€ scripts/                 # è„šæœ¬
â”‚   â””â”€â”€ create-admin.ts     # åˆ›å»ºç®¡ç†å‘˜
â”œâ”€â”€ docs/                    # æ–‡æ¡£
â”‚   â”œâ”€â”€ DEPLOYMENT.md       # éƒ¨ç½²æŒ‡å—
â”‚   â”œâ”€â”€ ADMIN_SYSTEM.md     # åå°ç³»ç»Ÿè¯´æ˜
â”‚   â”œâ”€â”€ MARKDOWN_GUIDE.md   # Markdown ä½¿ç”¨æŒ‡å—
â”‚   â””â”€â”€ SETUP.md            # ç¯å¢ƒé…ç½®
â””â”€â”€ public/                  # é™æ€èµ„æº
    â””â”€â”€ images/             # å›¾ç‰‡èµ„æº
```

## ğŸŒ éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

### æœåŠ¡å™¨è¦æ±‚
- Node.js v18.17.0+
- PostgreSQL 12+
- 2æ ¸ 2G å†…å­˜ä»¥ä¸Š

### éƒ¨ç½²æ­¥éª¤

è¯¦ç»†éƒ¨ç½²æŒ‡å—è¯·æŸ¥çœ‹ï¼š[docs/DEPLOYMENT.md](docs/DEPLOYMENT.md)

ç®€è¦æ­¥éª¤ï¼š

1. **åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…ç¯å¢ƒ**
   ```bash
   # Node.js, PostgreSQL, Nginx
   ```

2. **å…‹éš†ä»£ç å¹¶å®‰è£…ä¾èµ–**
   ```bash
   git clone <your-repo>
   npm install
   ```

3. **é…ç½®æ•°æ®åº“å’Œç¯å¢ƒå˜é‡**
   ```bash
   # åˆ›å»ºæ•°æ®åº“
   # é…ç½® .env æ–‡ä»¶
   ```

4. **åˆå§‹åŒ–å¹¶æ„å»º**
   ```bash
   npm run db:push
   npm run create-admin
   npm run build
   ```

5. **ä½¿ç”¨ PM2 å¯åŠ¨**
   ```bash
   pm2 start npm --name "blog" -- start
   pm2 save
   ```

6. **é…ç½® Nginx åå‘ä»£ç†**

7. **é…ç½® SSL è¯ä¹¦**
   ```bash
   sudo certbot --nginx -d ä½ çš„åŸŸå.com
   ```

## ğŸ“ ä½¿ç”¨æŒ‡å—

### ç®¡ç†æ–‡ç« 

1. ç™»å½•åå°ï¼š`https://ä½ çš„åŸŸå.com/admin/login`
2. ç‚¹å‡»ã€Œæ–°å»ºæ–‡ç« ã€
3. å¡«å†™æ ‡é¢˜ã€å†…å®¹ï¼ˆæ”¯æŒ Markdownï¼‰
4. ä¸Šä¼ å°é¢å›¾ã€è®¾ç½®åˆ†ç±»å’Œæ ‡ç­¾
5. ç‚¹å‡»ã€Œå‘å¸ƒã€æˆ–ã€Œä¿å­˜è‰ç¨¿ã€
6. å‰å°ç«‹å³ç”Ÿæ•ˆï¼Œ**æ— éœ€é‡æ–°éƒ¨ç½²**ï¼

è¯¦ç»†æŒ‡å—ï¼š[docs/MARKDOWN_GUIDE.md](docs/MARKDOWN_GUIDE.md)

### æ•°æ®åº“ç®¡ç†

```bash
# æŸ¥çœ‹æ•°æ®
npx prisma studio

# è¿ç§»æ•°æ®åº“
npm run db:migrate

# é‡ç½®æ•°æ®åº“ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
npx prisma migrate reset
```

### å¤‡ä»½æ•°æ®

```bash
# å¤‡ä»½æ•°æ®åº“
pg_dump blogdb > backup.sql

# æ¢å¤æ•°æ®åº“
psql blogdb < backup.sql
```

## ğŸ”§ å¼€å‘å‘½ä»¤

```bash
# å¼€å‘
npm run dev

# æ„å»º
npm run build

# ç”Ÿäº§ç¯å¢ƒè¿è¡Œ
npm run start

# ä»£ç æ£€æŸ¥
npm run lint

# æ•°æ®åº“æ“ä½œ
npm run db:push          # åŒæ­¥æ•°æ®åº“
npm run db:migrate       # åˆ›å»ºè¿ç§»
npm run db:migrate:deploy # éƒ¨ç½²è¿ç§»

# ç®¡ç†å‘˜æ“ä½œ
npm run create-admin     # åˆ›å»ºç®¡ç†å‘˜
```

## ğŸ“– æ–‡æ¡£

- [éƒ¨ç½²æŒ‡å—](docs/DEPLOYMENT.md) - å®Œæ•´çš„æœåŠ¡å™¨éƒ¨ç½²æ•™ç¨‹
- [åå°ç³»ç»Ÿè¯´æ˜](docs/ADMIN_SYSTEM.md) - ç®¡ç†ç³»ç»Ÿæ¶æ„å’ŒåŠŸèƒ½
- [Markdown ä½¿ç”¨æŒ‡å—](docs/MARKDOWN_GUIDE.md) - å¦‚ä½•ç¼–å†™å’Œå‘å¸ƒæ–‡ç« 
- [ç¯å¢ƒé…ç½®](docs/SETUP.md) - æœ¬åœ°å¼€å‘ç¯å¢ƒé…ç½®

## ğŸ¨ åŠŸèƒ½å±•ç¤º

### å‰å°é¡µé¢
- âœ… å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- âœ… æ·±è‰²æ¨¡å¼æ”¯æŒ
- âœ… æµç•…çš„åŠ¨ç”»æ•ˆæœ
- âœ… ä»£ç è¯­æ³•é«˜äº®
- âœ… å›¾ç‰‡æ‡’åŠ è½½

### åå°ç®¡ç†
- âœ… ç®€æ´çš„ç®¡ç†ç•Œé¢
- âœ… Markdown å®æ—¶é¢„è§ˆ
- âœ… æ–‡ç« è‰ç¨¿åŠŸèƒ½
- âœ… åˆ†ç±»æ ‡ç­¾ç®¡ç†
- âœ… æ•°æ®ç»Ÿè®¡é¢æ¿

## ğŸ” å®‰å…¨ç‰¹æ€§

- âœ… JWT è®¤è¯
- âœ… å¯†ç åŠ å¯†å­˜å‚¨ï¼ˆbcryptï¼‰
- âœ… HTTPS æ”¯æŒ
- âœ… SQL æ³¨å…¥é˜²æŠ¤ï¼ˆPrisma ORMï¼‰
- âœ… XSS é˜²æŠ¤

## ğŸš§ å¼€å‘è·¯çº¿å›¾

- [ ] è¯„è®ºç³»ç»Ÿ
- [ ] æ–‡ç« ç‚¹èµ
- [ ] æ ‡ç­¾äº‘
- [ ] RSS è®¢é˜…
- [ ] å…¨æ–‡æœç´¢å¢å¼º
- [ ] å›¾ç‰‡ä¸Šä¼ æ¥å£
- [ ] è®¿é—®ç»Ÿè®¡
- [ ] SEO ä¼˜åŒ–
- [ ] ç¤¾äº¤åª’ä½“åˆ†äº«

## ğŸ“„ License

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“§ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- æäº¤ Issue
- Email: your-email@example.com

---

**å¼€å§‹ä½¿ç”¨**ï¼šè¯·å…ˆé˜…è¯» [éƒ¨ç½²æŒ‡å—](docs/DEPLOYMENT.md)

**é‡åˆ°é—®é¢˜**ï¼šæŸ¥çœ‹ [å¸¸è§é—®é¢˜](docs/DEPLOYMENT.md#å¸¸è§é—®é¢˜)

**å­¦ä¹  Markdown**ï¼šå‚è€ƒ [Markdown ä½¿ç”¨æŒ‡å—](docs/MARKDOWN_GUIDE.md)
